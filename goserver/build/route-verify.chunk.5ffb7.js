(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"1/jM":function(e,n,t){"use strict";(function(e){var r=t("sL3o"),o=t("+mXV"),i=t("Ajgj"),a=t("O1lG");n.a=function(n){var t=n.authToken,u=Object(o.j)(null),c=u[0],s=u[1];Object(o.d)((function(){new Promise((function(e,n){return t?Promise.resolve(Object(a.b)({authToken:t})).then((function(t){try{return s(t),e()}catch(e){return n(e)}}),n):e()}))}),[t]);var l=Object(o.a)((function(){Object(i.h)({authToken:t})}),[t]);return c?e(r.Fragment,null,e("div",{class:"row u-center"},e("h3",null,"Login as ",c.name,"?")),e("div",{class:"row u-center"},e("button",{class:"btn-info",onClick:l},"Login"))):null}}).call(this,t("sL3o").h)},O1lG:function(e,n,t){"use strict";t.d(n,"c",(function(){return o})),t.d(n,"b",(function(){return i})),t.d(n,"d",(function(){return a})),t.d(n,"e",(function(){return u})),t.d(n,"f",(function(){return c})),t.d(n,"a",(function(){return s}));var r=t("vgrf"),o=function(){return new Promise((function(e,n){var t;return Promise.resolve(Object(r.b)("GET","/users/me")).then((function(o){try{return t=o,e(Object(r.a)({resp:t,valid:["goodUserData"]}))}catch(e){return n(e)}}),n)}))},i=function(e){return new Promise((function(n,t){return Promise.resolve(fetch("/api/users/me",{headers:{authorization:"Bearer "+e.authToken}})).then((function(e){try{return Promise.resolve(e.json()).then((function(e){try{return n(e.data)}catch(e){return t(e)}}),t)}catch(e){return t(e)}}),t)}))},a=function(e){return new Promise((function(n,t){var o;return Promise.resolve(Object(r.b)("GET","/users/"+encodeURIComponent(e))).then((function(e){try{return o=e,n(Object(r.a)({resp:o,valid:["goodUserData"]}))}catch(e){return t(e)}}),t)}))},u=function(e){return new Promise((function(n,t){var o,i,a,u,c;return o=e.name,i=e.division,Promise.resolve(Object(r.b)("PATCH","/users/me",{name:o,division:i})).then((function(e){try{return"badRateLimit"===(a=e).kind?(u=Math.floor(a.data.timeLeft/1e3),c=Math.floor(u/60),n({error:"Please wait "+(0===c?u+" seconds":c+" minutes")+" before trying this again"})):n(Object(r.a)({resp:a,valid:["goodUserUpdate"]}))}catch(e){return t(e)}}),t)}))},c=function(e){return new Promise((function(n,t){var o,i,a;return o=e.email,i=e.recaptchaCode,Promise.resolve(Object(r.b)("PUT","/users/me/auth/email",{email:o,recaptchaCode:i})).then((function(e){try{return a=e,n(Object(r.a)({resp:a,valid:["goodVerifySent","goodEmailSet"],resolveDataMessage:!0}))}catch(e){return t(e)}}),t)}))},s=function(){return new Promise((function(e,n){var t;return Promise.resolve(Object(r.b)("DELETE","/users/me/auth/email")).then((function(o){try{return t=o,e(Object(r.a)({resp:t,valid:["goodEmailRemoved","badEmailNoExists"],resolveDataMessage:!0}))}catch(e){return n(e)}}),n)}))}},Zv3a:function(e,n,t){"use strict";t.r(n),function(e){var r=t("+mXV"),o=t("/iE8"),i=t("obyI"),a=t("Ajgj"),u=t("1/jM");n.default=function(){var n=Object(r.j)(null),t=n[0],c=n[1],s=Object(r.j)(!1),l=s[0],f=s[1],h=Object(r.j)(null),m=h[0],d=h[1];return Object(r.d)((function(){document.title="Verify | "+i.a.ctfName,new Promise((function(e,n){function t(){return e()}var r,o;return(r=new URLSearchParams(location.search)).has("token")?Promise.resolve(Object(a.i)({verifyToken:r.get("token")})).then(function(e){try{return(o=e).authToken?c(o.authToken):o.emailSet?f(!0):d(o.verifyToken),t.call(this)}catch(e){return n(e)}}.bind(this),n):t.call(this)}))}),[]),m?e(o.a,{error:"401",message:m}):l?e("div",{class:"row u-center"},e("h3",null,"The email change has been verified. You can now close this tab.")):e(u.a,{authToken:t})}}.call(this,t("sL3o").h)}}]);